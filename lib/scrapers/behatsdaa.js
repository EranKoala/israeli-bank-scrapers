"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _moment = _interopRequireDefault(require("moment"));
var _debug = require("../helpers/debug");
var _elementsInteractions = require("../helpers/elements-interactions");
var _fetch = require("../helpers/fetch");
var _waiting = require("../helpers/waiting");
var _transactions = require("../transactions");
var _baseScraperWithBrowser = require("./base-scraper-with-browser");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const BASE_URL = 'https://www.behatsdaa.org.il';
const LOGIN_URL = `${BASE_URL}/login`;
const PURCHASE_HISTORY_URL = 'https://back.behatsdaa.org.il/api/purchases/purchaseHistory';
const debug = (0, _debug.getDebug)('behatsdaa');
function variantToTransaction(variant) {
  // The price is positive, make it negative as it's an expense
  const originalAmount = -variant.customerPrice;
  return {
    type: _transactions.TransactionTypes.Normal,
    identifier: variant.tTransactionID,
    date: (0, _moment.default)(variant.orderDate).format('YYYY-MM-DD'),
    processedDate: (0, _moment.default)(variant.orderDate).format('YYYY-MM-DD'),
    originalAmount,
    originalCurrency: 'ILS',
    chargedAmount: originalAmount,
    chargedCurrency: 'ILS',
    description: variant.name,
    status: _transactions.TransactionStatuses.Completed,
    memo: variant.variantName
  };
}
class BehatsdaaScraper extends _baseScraperWithBrowser.BaseScraperWithBrowser {
  getLoginOptions(credentials) {
    return {
      loginUrl: LOGIN_URL,
      fields: [{
        selector: '#loginId',
        value: credentials.id
      }, {
        selector: '#loginPassword',
        value: credentials.password
      }],
      checkReadiness: async () => {
        await Promise.all([(0, _elementsInteractions.waitUntilElementFound)(this.page, '#loginPassword'), (0, _elementsInteractions.waitUntilElementFound)(this.page, '#loginId')]);
      },
      possibleResults: {
        [_baseScraperWithBrowser.LoginResults.Success]: [`${BASE_URL}/`],
        [_baseScraperWithBrowser.LoginResults.InvalidPassword]: ['.custom-input-error-label']
      },
      submitButtonSelector: async () => {
        await (0, _waiting.sleep)(1000);
        debug('Trying to find submit button');
        const button = await this.page.$('xpath=//button[contains(., "התחברות")]');
        if (button) {
          debug('Submit button found');
          await button.click();
        } else {
          debug('Submit button not found');
        }
      }
    };
  }
  async fetchData() {
    const token = await this.page.evaluate(() => window.localStorage.getItem('userToken'));
    if (!token) {
      debug('Token not found in local storage');
      return {
        success: false,
        errorMessage: 'TokenNotFound'
      };
    }
    const body = {
      FromDate: (0, _moment.default)(this.options.startDate).format('YYYY-MM-DDTHH:mm:ss'),
      ToDate: (0, _moment.default)().format('YYYY-MM-DDTHH:mm:ss'),
      BenefitStatusId: null
    };
    debug('Fetching data');
    const res = await (0, _fetch.fetchPostWithinPage)(this.page, PURCHASE_HISTORY_URL, body, {
      authorization: `Bearer ${token}`,
      'Content-Type': 'application/json',
      organizationid: '20'
    });
    debug('Data fetched');
    if (res?.errorDescription || res?.data?.errorDescription) {
      debug('Error fetching data', res.errorDescription || res.data?.errorDescription);
      return {
        success: false,
        errorMessage: res.errorDescription
      };
    }
    if (!res?.data) {
      debug('No data found');
      return {
        success: false,
        errorMessage: 'NoData'
      };
    }
    debug('Data fetched successfully');
    return {
      success: true,
      accounts: [{
        accountNumber: res.data.memberId,
        txns: res.data.variants.map(variantToTransaction)
      }]
    };
  }
}
var _default = exports.default = BehatsdaaScraper;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9tZW50IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZGVidWciLCJfZWxlbWVudHNJbnRlcmFjdGlvbnMiLCJfZmV0Y2giLCJfd2FpdGluZyIsIl90cmFuc2FjdGlvbnMiLCJfYmFzZVNjcmFwZXJXaXRoQnJvd3NlciIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIkJBU0VfVVJMIiwiTE9HSU5fVVJMIiwiUFVSQ0hBU0VfSElTVE9SWV9VUkwiLCJkZWJ1ZyIsImdldERlYnVnIiwidmFyaWFudFRvVHJhbnNhY3Rpb24iLCJ2YXJpYW50Iiwib3JpZ2luYWxBbW91bnQiLCJjdXN0b21lclByaWNlIiwidHlwZSIsIlRyYW5zYWN0aW9uVHlwZXMiLCJOb3JtYWwiLCJpZGVudGlmaWVyIiwidFRyYW5zYWN0aW9uSUQiLCJkYXRlIiwibW9tZW50Iiwib3JkZXJEYXRlIiwiZm9ybWF0IiwicHJvY2Vzc2VkRGF0ZSIsIm9yaWdpbmFsQ3VycmVuY3kiLCJjaGFyZ2VkQW1vdW50IiwiY2hhcmdlZEN1cnJlbmN5IiwiZGVzY3JpcHRpb24iLCJuYW1lIiwic3RhdHVzIiwiVHJhbnNhY3Rpb25TdGF0dXNlcyIsIkNvbXBsZXRlZCIsIm1lbW8iLCJ2YXJpYW50TmFtZSIsIkJlaGF0c2RhYVNjcmFwZXIiLCJCYXNlU2NyYXBlcldpdGhCcm93c2VyIiwiZ2V0TG9naW5PcHRpb25zIiwiY3JlZGVudGlhbHMiLCJsb2dpblVybCIsImZpZWxkcyIsInNlbGVjdG9yIiwidmFsdWUiLCJpZCIsInBhc3N3b3JkIiwiY2hlY2tSZWFkaW5lc3MiLCJQcm9taXNlIiwiYWxsIiwid2FpdFVudGlsRWxlbWVudEZvdW5kIiwicGFnZSIsInBvc3NpYmxlUmVzdWx0cyIsIkxvZ2luUmVzdWx0cyIsIlN1Y2Nlc3MiLCJJbnZhbGlkUGFzc3dvcmQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsInNsZWVwIiwiYnV0dG9uIiwiJCIsImNsaWNrIiwiZmV0Y2hEYXRhIiwidG9rZW4iLCJldmFsdWF0ZSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdWNjZXNzIiwiZXJyb3JNZXNzYWdlIiwiYm9keSIsIkZyb21EYXRlIiwib3B0aW9ucyIsInN0YXJ0RGF0ZSIsIlRvRGF0ZSIsIkJlbmVmaXRTdGF0dXNJZCIsInJlcyIsImZldGNoUG9zdFdpdGhpblBhZ2UiLCJhdXRob3JpemF0aW9uIiwib3JnYW5pemF0aW9uaWQiLCJlcnJvckRlc2NyaXB0aW9uIiwiZGF0YSIsImFjY291bnRzIiwiYWNjb3VudE51bWJlciIsIm1lbWJlcklkIiwidHhucyIsInZhcmlhbnRzIiwibWFwIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NjcmFwZXJzL2JlaGF0c2RhYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XHJcbmltcG9ydCB7IGdldERlYnVnIH0gZnJvbSAnLi4vaGVscGVycy9kZWJ1Zyc7XHJcbmltcG9ydCB7IHdhaXRVbnRpbEVsZW1lbnRGb3VuZCB9IGZyb20gJy4uL2hlbHBlcnMvZWxlbWVudHMtaW50ZXJhY3Rpb25zJztcclxuaW1wb3J0IHsgZmV0Y2hQb3N0V2l0aGluUGFnZSB9IGZyb20gJy4uL2hlbHBlcnMvZmV0Y2gnO1xyXG5pbXBvcnQgeyBzbGVlcCB9IGZyb20gJy4uL2hlbHBlcnMvd2FpdGluZyc7XHJcbmltcG9ydCB7IHR5cGUgVHJhbnNhY3Rpb24sIFRyYW5zYWN0aW9uU3RhdHVzZXMsIFRyYW5zYWN0aW9uVHlwZXMgfSBmcm9tICcuLi90cmFuc2FjdGlvbnMnO1xyXG5pbXBvcnQgeyBCYXNlU2NyYXBlcldpdGhCcm93c2VyLCB0eXBlIExvZ2luT3B0aW9ucywgTG9naW5SZXN1bHRzIH0gZnJvbSAnLi9iYXNlLXNjcmFwZXItd2l0aC1icm93c2VyJztcclxuaW1wb3J0IHsgdHlwZSBTY3JhcGVyU2NyYXBpbmdSZXN1bHQgfSBmcm9tICcuL2ludGVyZmFjZSc7XHJcblxyXG5jb25zdCBCQVNFX1VSTCA9ICdodHRwczovL3d3dy5iZWhhdHNkYWEub3JnLmlsJztcclxuY29uc3QgTE9HSU5fVVJMID0gYCR7QkFTRV9VUkx9L2xvZ2luYDtcclxuY29uc3QgUFVSQ0hBU0VfSElTVE9SWV9VUkwgPSAnaHR0cHM6Ly9iYWNrLmJlaGF0c2RhYS5vcmcuaWwvYXBpL3B1cmNoYXNlcy9wdXJjaGFzZUhpc3RvcnknO1xyXG5cclxuY29uc3QgZGVidWcgPSBnZXREZWJ1ZygnYmVoYXRzZGFhJyk7XHJcblxyXG50eXBlIFNjcmFwZXJTcGVjaWZpY0NyZWRlbnRpYWxzID0geyBpZDogc3RyaW5nOyBwYXNzd29yZDogc3RyaW5nIH07XHJcblxyXG50eXBlIFZhcmlhbnQgPSB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHZhcmlhbnROYW1lOiBzdHJpbmc7XHJcbiAgY3VzdG9tZXJQcmljZTogbnVtYmVyO1xyXG4gIG9yZGVyRGF0ZTogc3RyaW5nOyAvLyBJU08gdGltZXN0YW1wIHdpdGggbm8gdGltZXpvbmVcclxuICB0VHJhbnNhY3Rpb25JRDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBQdXJjaGFzZUhpc3RvcnlSZXNwb25zZSA9IHtcclxuICBkYXRhPzoge1xyXG4gICAgZXJyb3JEZXNjcmlwdGlvbj86IHN0cmluZztcclxuICAgIG1lbWJlcklkOiBzdHJpbmc7XHJcbiAgICB2YXJpYW50czogVmFyaWFudFtdO1xyXG4gIH07XHJcbiAgZXJyb3JEZXNjcmlwdGlvbj86IHN0cmluZztcclxufTtcclxuXHJcbmZ1bmN0aW9uIHZhcmlhbnRUb1RyYW5zYWN0aW9uKHZhcmlhbnQ6IFZhcmlhbnQpOiBUcmFuc2FjdGlvbiB7XHJcbiAgLy8gVGhlIHByaWNlIGlzIHBvc2l0aXZlLCBtYWtlIGl0IG5lZ2F0aXZlIGFzIGl0J3MgYW4gZXhwZW5zZVxyXG4gIGNvbnN0IG9yaWdpbmFsQW1vdW50ID0gLXZhcmlhbnQuY3VzdG9tZXJQcmljZTtcclxuICByZXR1cm4ge1xyXG4gICAgdHlwZTogVHJhbnNhY3Rpb25UeXBlcy5Ob3JtYWwsXHJcbiAgICBpZGVudGlmaWVyOiB2YXJpYW50LnRUcmFuc2FjdGlvbklELFxyXG4gICAgZGF0ZTogbW9tZW50KHZhcmlhbnQub3JkZXJEYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQnKSxcclxuICAgIHByb2Nlc3NlZERhdGU6IG1vbWVudCh2YXJpYW50Lm9yZGVyRGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREJyksXHJcbiAgICBvcmlnaW5hbEFtb3VudCxcclxuICAgIG9yaWdpbmFsQ3VycmVuY3k6ICdJTFMnLFxyXG4gICAgY2hhcmdlZEFtb3VudDogb3JpZ2luYWxBbW91bnQsXHJcbiAgICBjaGFyZ2VkQ3VycmVuY3k6ICdJTFMnLFxyXG4gICAgZGVzY3JpcHRpb246IHZhcmlhbnQubmFtZSxcclxuICAgIHN0YXR1czogVHJhbnNhY3Rpb25TdGF0dXNlcy5Db21wbGV0ZWQsXHJcbiAgICBtZW1vOiB2YXJpYW50LnZhcmlhbnROYW1lLFxyXG4gIH07XHJcbn1cclxuXHJcbmNsYXNzIEJlaGF0c2RhYVNjcmFwZXIgZXh0ZW5kcyBCYXNlU2NyYXBlcldpdGhCcm93c2VyPFNjcmFwZXJTcGVjaWZpY0NyZWRlbnRpYWxzPiB7XHJcbiAgcHVibGljIGdldExvZ2luT3B0aW9ucyhjcmVkZW50aWFsczogU2NyYXBlclNwZWNpZmljQ3JlZGVudGlhbHMpOiBMb2dpbk9wdGlvbnMge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbG9naW5Vcmw6IExPR0lOX1VSTCxcclxuICAgICAgZmllbGRzOiBbXHJcbiAgICAgICAgeyBzZWxlY3RvcjogJyNsb2dpbklkJywgdmFsdWU6IGNyZWRlbnRpYWxzLmlkIH0sXHJcbiAgICAgICAgeyBzZWxlY3RvcjogJyNsb2dpblBhc3N3b3JkJywgdmFsdWU6IGNyZWRlbnRpYWxzLnBhc3N3b3JkIH0sXHJcbiAgICAgIF0sXHJcbiAgICAgIGNoZWNrUmVhZGluZXNzOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgd2FpdFVudGlsRWxlbWVudEZvdW5kKHRoaXMucGFnZSwgJyNsb2dpblBhc3N3b3JkJyksXHJcbiAgICAgICAgICB3YWl0VW50aWxFbGVtZW50Rm91bmQodGhpcy5wYWdlLCAnI2xvZ2luSWQnKSxcclxuICAgICAgICBdKTtcclxuICAgICAgfSxcclxuICAgICAgcG9zc2libGVSZXN1bHRzOiB7XHJcbiAgICAgICAgW0xvZ2luUmVzdWx0cy5TdWNjZXNzXTogW2Ake0JBU0VfVVJMfS9gXSxcclxuICAgICAgICBbTG9naW5SZXN1bHRzLkludmFsaWRQYXNzd29yZF06IFsnLmN1c3RvbS1pbnB1dC1lcnJvci1sYWJlbCddLFxyXG4gICAgICB9LFxyXG4gICAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGF3YWl0IHNsZWVwKDEwMDApO1xyXG4gICAgICAgIGRlYnVnKCdUcnlpbmcgdG8gZmluZCBzdWJtaXQgYnV0dG9uJyk7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gYXdhaXQgdGhpcy5wYWdlLiQoJ3hwYXRoPS8vYnV0dG9uW2NvbnRhaW5zKC4sIFwi15TXqteX15HXqNeV16pcIildJyk7XHJcbiAgICAgICAgaWYgKGJ1dHRvbikge1xyXG4gICAgICAgICAgZGVidWcoJ1N1Ym1pdCBidXR0b24gZm91bmQnKTtcclxuICAgICAgICAgIGF3YWl0IGJ1dHRvbi5jbGljaygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkZWJ1ZygnU3VibWl0IGJ1dHRvbiBub3QgZm91bmQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZmV0Y2hEYXRhKCk6IFByb21pc2U8U2NyYXBlclNjcmFwaW5nUmVzdWx0PiB7XHJcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMucGFnZS5ldmFsdWF0ZSgoKSA9PiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJUb2tlbicpKTtcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgZGVidWcoJ1Rva2VuIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlJyk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3JNZXNzYWdlOiAnVG9rZW5Ob3RGb3VuZCcsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm9keSA9IHtcclxuICAgICAgRnJvbURhdGU6IG1vbWVudCh0aGlzLm9wdGlvbnMuc3RhcnREYXRlKS5mb3JtYXQoJ1lZWVktTU0tRERUSEg6bW06c3MnKSxcclxuICAgICAgVG9EYXRlOiBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tRERUSEg6bW06c3MnKSxcclxuICAgICAgQmVuZWZpdFN0YXR1c0lkOiBudWxsLFxyXG4gICAgfTtcclxuXHJcbiAgICBkZWJ1ZygnRmV0Y2hpbmcgZGF0YScpO1xyXG5cclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoUG9zdFdpdGhpblBhZ2U8UHVyY2hhc2VIaXN0b3J5UmVzcG9uc2U+KHRoaXMucGFnZSwgUFVSQ0hBU0VfSElTVE9SWV9VUkwsIGJvZHksIHtcclxuICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIG9yZ2FuaXphdGlvbmlkOiAnMjAnLFxyXG4gICAgfSk7XHJcblxyXG4gICAgZGVidWcoJ0RhdGEgZmV0Y2hlZCcpO1xyXG5cclxuICAgIGlmIChyZXM/LmVycm9yRGVzY3JpcHRpb24gfHwgcmVzPy5kYXRhPy5lcnJvckRlc2NyaXB0aW9uKSB7XHJcbiAgICAgIGRlYnVnKCdFcnJvciBmZXRjaGluZyBkYXRhJywgcmVzLmVycm9yRGVzY3JpcHRpb24gfHwgcmVzLmRhdGE/LmVycm9yRGVzY3JpcHRpb24pO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3JNZXNzYWdlOiByZXMuZXJyb3JEZXNjcmlwdGlvbiB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghcmVzPy5kYXRhKSB7XHJcbiAgICAgIGRlYnVnKCdObyBkYXRhIGZvdW5kJyk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvck1lc3NhZ2U6ICdOb0RhdGEnIH07XHJcbiAgICB9XHJcblxyXG4gICAgZGVidWcoJ0RhdGEgZmV0Y2hlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGFjY291bnRzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgYWNjb3VudE51bWJlcjogcmVzLmRhdGEubWVtYmVySWQsXHJcbiAgICAgICAgICB0eG5zOiByZXMuZGF0YS52YXJpYW50cy5tYXAodmFyaWFudFRvVHJhbnNhY3Rpb24pLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQmVoYXRzZGFhU2NyYXBlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxxQkFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsTUFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksUUFBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssYUFBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sdUJBQUEsR0FBQU4sT0FBQTtBQUFzRyxTQUFBRCx1QkFBQVEsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUd0RyxNQUFNRyxRQUFRLEdBQUcsOEJBQThCO0FBQy9DLE1BQU1DLFNBQVMsR0FBRyxHQUFHRCxRQUFRLFFBQVE7QUFDckMs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SSxHQUFHO01BQ1hDLFFBQVEsRUFBRSxJQUFBL0MsZUFBTSxFQUFDLElBQUksQ0FBQ2dELE9BQU8sQ0FBQ0MsU0FBUyxDQUFDLENBQUMvQyxNQUFNLENBQUMscUJBQXFCLENBQUM7TUFDdEVnRCxNQUFNLEVBQUUsSUFBQWxELGVBQU0sRUFBQyxDQUFDLENBQUNFLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQztNQUM5Q2lELGVBQWUsRUFBRTtJQUNuQixDQUFDO0lBRUQvRCxLQUFLLENBQUMsZUFBZSxDQUFDO0lBRXRCLE1BQU1nRSxHQUFHLEdBQUcsTUFBTSxJQUFBQywwQkFBbUIsRUFBMEIsSUFBSSxDQUFDekIsSUFBSSxFQUFFekMsb0JBQW9CLEVBQUUyRCxJQUFJLEVBQUU7TUFDcEdRLGFBQWEsRUFBRSxVQUFVZixLQUFLLEVBQUU7TUFDaEMsY0FBYyxFQUFFLGtCQUFrQjtNQUNsQ2dCLGNBQWMsRUFBRTtJQUNsQixDQUFDLENBQUM7SUFFRm5FLEtBQUssQ0FBQyxjQUFjLENBQUM7SUFFckIsSUFBSWdFLEdBQUcsRUFBRUksZ0JBQWdCLElBQUlKLEdBQUcsRUFBRUssSUFBSSxFQUFFRCxnQkFBZ0IsRUFBRTtNQUN4RHBFLEtBQUssQ0FBQyxxQkFBcUIsRUFBRWdFLEdBQUcsQ0FBQ0ksZ0JBQWdCLElBQUlKLEdBQUcsQ0FBQ0ssSUFBSSxFQUFFRCxnQkFBZ0IsQ0FBQztNQUNoRixPQUFPO1FBQUVaLE9BQU8sRUFBRSxLQUFLO1FBQUVDLFlBQVksRUFBRU8sR0FBRyxDQUFDSTtNQUFpQixDQUFDO0lBQy9EO0lBRUEsSUFBSSxDQUFDSixHQUFHLEVBQUVLLElBQUksRUFBRTtNQUNkckUsS0FBSyxDQUFDLGVBQWUsQ0FBQztNQUN0QixPQUFPO1FBQUV3RCxPQUFPLEVBQUUsS0FBSztRQUFFQyxZQUFZLEVBQUU7TUFBUyxDQUFDO0lBQ25EO0lBRUF6RCxLQUFLLENBQUMsMkJBQTJCLENBQUM7SUFDbEMsT0FBTztNQUNMd0QsT0FBTyxFQUFFLElBQUk7TUFDYmMsUUFBUSxFQUFFLENBQ1I7UUFDRUMsYUFBYSxFQUFFUCxHQUFHLENBQUNLLElBQUksQ0FBQ0csUUFBUTtRQUNoQ0MsSUFBSSxFQUFFVCxHQUFHLENBQUNLLElBQUksQ0FBQ0ssUUFBUSxDQUFDQyxHQUFHLENBQUN6RSxvQkFBb0I7TUFDbEQsQ0FBQztJQUVMLENBQUM7RUFDSDtBQUNGO0FBQUMsSUFBQTBFLFFBQUEsR0FBQUMsT0FBQSxDQUFBakYsT0FBQSxHQUVjOEIsZ0JBQWdCIiwiaWdub3JlTGlzdCI6W119